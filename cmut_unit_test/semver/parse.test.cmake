
include( "${CMAKE_CURRENT_LIST_DIR}/../cmut__unit_test__check.cmake" )
include( "${CMAKE_CURRENT_LIST_DIR}/../../semver/parse.cmake" )


function(cmut__unit_test__semver__parse version expected_major expected_minor expected_patch expected_pre_release expected_build )

    cmut__semver__parse(major minor patch pre_release build ${version})

    cmut__unit_test__check( cmut__unit_test__semver__parse__major "${expected_major}"       STREQUAL "${major}")
    cmut__unit_test__check( cmut__unit_test__semver__parse__minor "${expected_minor}"       STREQUAL "${minor}")
    cmut__unit_test__check( cmut__unit_test__semver__parse__patch "${expected_patch}"       STREQUAL "${patch}")
    cmut__unit_test__check( cmut__unit_test__semver__parse__pre_release "${expected_pre_release}" STREQUAL "${pre_release}")

    cmut__unit_test__check( cmut__unit_test__semver__parse__build "${expected_build}"       STREQUAL "${build}")

endfunction()

cmut__unit_test__semver__parse( 0.0.4 0 0 4 "" "" )
cmut__unit_test__semver__parse( 1.2.3 1 2 3 "" "" )
cmut__unit_test__semver__parse( 10.20.30 10 20 30 "" "" )
cmut__unit_test__semver__parse( 1.1.2-prerelease+meta 1 1 2 prerelease meta )
cmut__unit_test__semver__parse( 1.1.2+meta 1 1 2 "" meta )
cmut__unit_test__semver__parse( 1.1.2+meta-valid 1 1 2 "" meta-valid )
cmut__unit_test__semver__parse( 1.0.0-alpha 1 0 0 alpha "" )
cmut__unit_test__semver__parse( 1.0.0-beta 1 0 0 beta "" )
cmut__unit_test__semver__parse( 1.0.0-alpha.beta 1 0 0 alpha.beta "" )
cmut__unit_test__semver__parse( 1.0.0-alpha.beta.1 1 0 0 alpha.beta.1 "" )
cmut__unit_test__semver__parse( 1.0.0-alpha.1 1 0 0 alpha.1 "" )
cmut__unit_test__semver__parse( 1.0.0-alpha0.valid 1 0 0 alpha0.valid "" )
cmut__unit_test__semver__parse( 1.0.0-alpha.0valid 1 0 0 alpha.0valid "" )
cmut__unit_test__semver__parse( 1.0.0-alpha-a.b-c-somethinglong+build.1-aef.1-its-okay 1 0 0 alpha-a.b-c-somethinglong build.1-aef.1-its-okay )
cmut__unit_test__semver__parse( 1.0.0-rc.1+build.1 1 0 0 rc.1 build.1 )
cmut__unit_test__semver__parse( 2.0.0-rc.1+build.123 2 0 0 rc.1 build.123 )
cmut__unit_test__semver__parse( 1.2.3-beta 1 2 3 beta "" )
cmut__unit_test__semver__parse( 10.2.3-DEV-SNAPSHOT 10 2 3 DEV-SNAPSHOT "" )
cmut__unit_test__semver__parse( 1.2.3-SNAPSHOT-123 1 2 3 SNAPSHOT-123 "" )
cmut__unit_test__semver__parse( 1.0.0 1 0 0 "" "" )
cmut__unit_test__semver__parse( 2.0.0 2 0 0 "" "" )
cmut__unit_test__semver__parse( 1.1.7 1 1 7 "" "" )
cmut__unit_test__semver__parse( 2.0.0+build.1848 2 0 0 "" build.1848 )
cmut__unit_test__semver__parse( 2.0.1-alpha.1227 2 0 1 alpha.1227 "" )
cmut__unit_test__semver__parse( 1.0.0-alpha+beta 1 0 0 alpha beta )
cmut__unit_test__semver__parse( 1.2.3----RC-SNAPSHOT.12.9.1--.12+788 1 2 3 ---RC-SNAPSHOT.12.9.1--.12 788 )
cmut__unit_test__semver__parse( 1.2.3----R-S.12.9.1--.12+meta 1 2 3 ---R-S.12.9.1--.12 meta )
cmut__unit_test__semver__parse( 1.2.3----RC-SNAPSHOT.12.9.1--.12 1 2 3 ---RC-SNAPSHOT.12.9.1--.12 "" )
cmut__unit_test__semver__parse( 1.0.0+0.build.1-rc.10000aaa-kk-0.1 1 0 0 "" 0.build.1-rc.10000aaa-kk-0.1 "" )
cmut__unit_test__semver__parse( 99999999999999999999999.999999999999999999.99999999999999999 99999999999999999999999 999999999999999999 99999999999999999 "" "" )
cmut__unit_test__semver__parse( 1.0.0-0A.is.legal 1 0 0 0A.is.legal "" )
